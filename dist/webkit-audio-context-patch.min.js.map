{"version":3,"file":"webkit-audio-context-patch.min.js","sources":["../src/webkit-audio-context-patch.js"],"sourcesContent":["/* global OscillatorNode */\nvar firefoxVersion = false\ntry {\n  firefoxVersion = navigator.userAgent\n    .match(/Firefox\\/([\\d.]+)/)[1]\n    .split('.')\n    .map(function (val) {\n      return parseInt(val)\n    })\n} catch (e) {}\n\nif (!window.hasOwnProperty('AudioContext') && window.hasOwnProperty('webkitAudioContext')) {\n  var a = window.AudioContext = window.webkitAudioContext\n\n  if (!a.prototype.hasOwnProperty('createGain')) {\n    a.prototype.createGain = a.prototype.createGainNode\n  }\n\n  if (!OscillatorNode.prototype.hasOwnProperty('start')) {\n    OscillatorNode.prototype.start = OscillatorNode.prototype.noteOn\n  }\n\n  if (!OscillatorNode.prototype.hasOwnProperty('stop')) {\n    OscillatorNode.prototype.stop = OscillatorNode.prototype.noteOff\n  }\n\n  Object.defineProperty(OscillatorNode.prototype, 'type', {\n    get: function () {\n      return ['sine', 'square', 'sawtooth', 'triangle', 'custom'][this._type]\n    },\n    set: function (type) {\n      this._type = OscillatorNode.prototype[type.toUpperCase()]\n    }\n  })\n}\n\nif (firefoxVersion !== false && firefoxVersion[0] < 30) {\n  // make the first parameter optional for firefox <30\n  var oldStart = OscillatorNode.prototype.start\n  OscillatorNode.prototype.start = function (t) {\n    oldStart(t || 0)\n  }\n\n  var oldStop = OscillatorNode.prototype.stop\n  OscillatorNode.prototype.stop = function (t) {\n    oldStop(t || 0)\n  }\n}\n"],"names":["firefoxVersion","navigator","userAgent","match","split","map","val","parseInt","e","window","hasOwnProperty","a","AudioContext","webkitAudioContext","prototype","createGain","createGainNode","OscillatorNode","start","noteOn","stop","noteOff","Object","defineProperty","get","this","_type","set","type","toUpperCase","oldStart","t","oldStop"],"mappings":";AACA,IAAIA,gBAAiB,EACrB,IACEA,eAAiBC,UAAUC,UACxBC,MAAM,qBAAqB,GAC3BC,MAAM,KACNC,IAAI,SAAUC,GACb,OAAOC,SAASD,KAEpB,MAAOE,IAET,IAAKC,OAAOC,eAAe,iBAAmBD,OAAOC,eAAe,sBAAuB,CACzF,IAAIC,EAAIF,OAAOG,aAAeH,OAAOI,mBAEhCF,EAAEG,UAAUJ,eAAe,gBAC9BC,EAAEG,UAAUC,WAAaJ,EAAEG,UAAUE,gBAGlCC,eAAeH,UAAUJ,eAAe,WAC3CO,eAAeH,UAAUI,MAAQD,eAAeH,UAAUK,QAGvDF,eAAeH,UAAUJ,eAAe,UAC3CO,eAAeH,UAAUM,KAAOH,eAAeH,UAAUO,SAG3DC,OAAOC,eAAeN,eAAeH,UAAW,QAC9CU,IAAK,WACH,OAAQ,OAAQ,SAAU,WAAY,WAAY,UAAUC,KAAKC,QAEnEC,IAAK,SAAUC,GACbH,KAAKC,MAAQT,eAAeH,UAAUc,EAAKC,kBAKjD,IAAuB,IAAnB7B,gBAA4BA,eAAe,GAAK,GAAI,CAEtD,IAAI8B,SAAWb,eAAeH,UAAUI,MACxCD,eAAeH,UAAUI,MAAQ,SAAUa,GACzCD,SAASC,GAAK,IAGhB,IAAIC,QAAUf,eAAeH,UAAUM,KACvCH,eAAeH,UAAUM,KAAO,SAAUW,GACxCC,QAAQD,GAAK"}