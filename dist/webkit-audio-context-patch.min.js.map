{"version":3,"file":"webkit-audio-context-patch.min.js","sources":["../src/webkit-audio-context-patch.js"],"sourcesContent":["/* global OscillatorNode */\r\nvar firefoxVersion = false\r\ntry {\r\n  firefoxVersion = navigator.userAgent\r\n    .match(/Firefox\\/([\\d.]+)/)[1]\r\n    .split('.')\r\n    .map(function (val) {\r\n      return parseInt(val)\r\n    })\r\n} catch (e) {}\r\n\r\nif (!window.hasOwnProperty('AudioContext') && window.hasOwnProperty('webkitAudioContext')) {\r\n  var a = window.AudioContext = window.webkitAudioContext\r\n\r\n  if (!a.prototype.hasOwnProperty('createGain')) {\r\n    a.prototype.createGain = a.prototype.createGainNode\r\n  }\r\n\r\n  if (!OscillatorNode.prototype.hasOwnProperty('start')) {\r\n    OscillatorNode.prototype.start = OscillatorNode.prototype.noteOn\r\n  }\r\n\r\n  if (!OscillatorNode.prototype.hasOwnProperty('stop')) {\r\n    OscillatorNode.prototype.stop = OscillatorNode.prototype.noteOff\r\n  }\r\n\r\n  Object.defineProperty(OscillatorNode.prototype, 'type', {\r\n    get: function () {\r\n      return ['sine', 'square', 'sawtooth', 'triangle', 'custom'][this._type]\r\n    },\r\n    set: function (type) {\r\n      this._type = OscillatorNode.prototype[type.toUpperCase()]\r\n    }\r\n  })\r\n}\r\n\r\nif (firefoxVersion !== false && firefoxVersion[0] < 30) {\r\n  // make the first parameter optional for firefox <30\r\n  var oldStart = OscillatorNode.prototype.start\r\n  OscillatorNode.prototype.start = function (t) {\r\n    oldStart(t || 0)\r\n  }\r\n\r\n  var oldStop = OscillatorNode.prototype.stop\r\n  OscillatorNode.prototype.stop = function (t) {\r\n    oldStop(t || 0)\r\n  }\r\n}\r\n"],"names":["firefoxVersion","navigator","userAgent","match","split","map","val","parseInt","e","window","hasOwnProperty","a","AudioContext","webkitAudioContext","prototype","createGain","createGainNode","OscillatorNode","start","noteOn","stop","noteOff","Object","defineProperty","get","this","_type","set","type","toUpperCase","oldStart","t","oldStop"],"mappings":";AACA,IAAIA,gBAAiB,EACrB,IACEA,eAAiBC,UAAUC,UACxBC,MAAM,qBAAqB,GAC3BC,MAAM,KACNC,IAAI,SAAUC,GACb,OAAOC,SAASD,KAEpB,MAAOE,IAET,IAAKC,OAAOC,eAAe,iBAAmBD,OAAOC,eAAe,sBAAuB,CACzF,IAAIC,EAAIF,OAAOG,aAAeH,OAAOI,mBAEhCF,EAAEG,UAAUJ,eAAe,gBAC9BC,EAAEG,UAAUC,WAAaJ,EAAEG,UAAUE,gBAGlCC,eAAeH,UAAUJ,eAAe,WAC3CO,eAAeH,UAAUI,MAAQD,eAAeH,UAAUK,QAGvDF,eAAeH,UAAUJ,eAAe,UAC3CO,eAAeH,UAAUM,KAAOH,eAAeH,UAAUO,SAG3DC,OAAOC,eAAeN,eAAeH,UAAW,QAC9CU,IAAK,WACH,OAAQ,OAAQ,SAAU,WAAY,WAAY,UAAUC,KAAKC,QAEnEC,IAAK,SAAUC,GACbH,KAAKC,MAAQT,eAAeH,UAAUc,EAAKC,kBAKjD,IAAuB,IAAnB7B,gBAA4BA,eAAe,GAAK,GAAI,CAEtD,IAAI8B,SAAWb,eAAeH,UAAUI,MACxCD,eAAeH,UAAUI,MAAQ,SAAUa,GACzCD,SAASC,GAAK,IAGhB,IAAIC,QAAUf,eAAeH,UAAUM,KACvCH,eAAeH,UAAUM,KAAO,SAAUW,GACxCC,QAAQD,GAAK"}